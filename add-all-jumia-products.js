const sqlite3;
}sed');
  })loconnection case tab'Daole.log(lse cons    essage);
e:', err.measng datab'Error closiole.error(r) cons  if (er
  ((err) => {close  db.`);
  
stedues req atocks have 0 sroductll p A.log(`üî¢le;
  consongth}`)ts.leallProduc${d: sse proceoductsprl og(`üì¶ Tota.l  console;
ducts`)roipped} p ${skcates:ed dupli(`‚è≠Ô∏è  Skipponsole.logucts`);
  cew prod n{added}d: $ly addeccessfulle.log(`‚úÖ Su consoplete!`);
 rt Comg(`\nüéâ Impo.lolesocon}
  
  0));
  e, 1out(resolve => setTimese(resolvew Promi    await nabase
 dat thehelmingavoid overwto  delay / Add small 
    /   }
   age}`);
 ror.mess{name}: ${er $rror addingerror(`‚ùå E   console.{
   ror) ch (er } cat
        dded++;
 
      aring()}`);aleStPrice.toLocitX ${un UGu}) -${sk} (ded: ${name`‚úÖ Adlog(onsole. 
      c  
   
      });        });       }
);
   (this.lastID resolve               });
       ssage}`);
 invErr.meame}: ${r for ${nrroentory e.log(`InvoleinvErr) cons (        if      ) => {
Errinv], (his.lastID 0)', [t VALUES (?,ity)t_id, quantoducry (prinventoERT INTO db.run('INS           sted
 queo 0 as retory t/ Set inven           / else {
         }  );
 reject(err
           ) {   if (err     ) {
  ion(err, functice, 5, 100]ice, costPritPrun 1, 1, l,geUron, imariptiname, desc, skub.run(sql, [ d
       
        )`;, ?, ?, ?, ?, ?, ? ?, ? ?,(?,VALUES                      x_stock) 
_stock, mamint_price, cosrice, _p_id, unit, suppliercategory_idimage_url, ption,  descrime,u, naproducts (sk INTO  = `INSERTst sql  con> {
      ject) =resolve, reomise((ait new Pr   aw  try {
    
  .7;
   itPrice * 0price) : uniginal_oduct.or(pr parsePrice_price ?ginal.ori= productcostPrice 
    const ce);current_priproduct.ePrice( = parsPricenst uniturl;
    coduct.image_proageUrl =    const im
 ();rim` : ''}`.tngs}uct.ratiing: ${prodtings ? `Ratct.rada. ${produ Jumia Uganrted fromn = `Impot descriptio  cons
  );_nameoductproduct.prateName(name = trunc const e, i);
   .product_namoductnerateSKU(pr ge =   const sku    
 
;
    } continue+;
     d+      skippe..`);
 60)}.ubstring(0,e.sct_namroduroduct.pate): ${puplic  Skipped (dsole.log(`‚è≠Ô∏è  conme)) {
    Na(normalizedludesducts.inc(existingPro if ts
   already exisduct k if proChec  //  
     t_name);
oducoduct.prName(prductizeProal= normdName alize  const normi];
  ts[uc = allProdst product) {
    con i++.length;ctsduProll a= 0; i < (let i   ford = 0;
  
 let skipped = 0;
  adde;
  
  letabase`)ducts in dat prongth} existicts.lengistingProdu`Found ${exg(nsole.lo co;
  
 });
  })));
    e(row.name)ductNamlizePro normaow =>e(rows.map(rolveslse r
      ect(err);jer) re   if (er  > {
 rr, rows) =, [], (e products' FROMSELECT nameall('b. {
    dreject) =>, ise((resolve new Promwaits = aductstingProst exis
  conlicate dups to avoidctproduet existing  
  // G.`);
 N..SOucts from Jprodngth} s.lelProductng ${al`Processinsole.log() {
  cooducts(uePr importUniqnc function

asycts();
});duortUniqueProse');
  impbao dataected tConnlog('console.
  
  t(1);
  }rocess.exi
    p.message);se:', errg databar openinor('Erronsole.err co   rr) {
> {
  if (er) = (erentory.db','./invatabase(lite3.Db = new sqonst dnd import
case a datab/ Connect to
}

/50);ng(0, ri).subst9]/g, ''/[^a-z0-e().replace(LowerCasname.to{
  return (name) roductNameePizion normal
}

funct...' : name;xLength) + '(0, mabstringe.suamth ? nth > maxLengme.leng
  return na {ength = 80)xLmame(name, ateNa truncfunction}`;
}

 '0')padStart(3,0).10x + tring(inde${SUMn `J
  retur)).join('');pperCase(.toUrd.charAt(0)rd => wo.map(wo wordsfix =preconst , 3);
   ').slice(0('me.split productNards =woconst 
  e, index) {am(productNenerateSKUfunction g
}

0; '')) || UGX\s*|,/g,replace(/at(priceStr.n parseFlo0;
  retur) return riceStr(!p {
  if ce(priceStr)ri parsePns
functionfunctioer  Help//
];

"}5 out of 5": "ings5","rat?2667399/1.jpg/20duct/46e)/pro(whitilters:fill0x300/fn/30it-i.is/unsafe/fmia.ju"https://ug_url": "image000",9,e": "UGX 2l_pricina00","orig"UGX 25,0ce": nt_prig","curreisp 400 Crics Fabrkech Ma Starvers Laundry: "Cloe"_namct{"produ},
  ?4213".jpg/193/858429product/ite)/ill(whlters:f0x300/fiit-in/30/ffeis/unsa//ug.jumia."https:_url": image0,000","UGX 25rice": "rrent_p,"cuaps"London 60 Com ula Frction Formive Fat Redu Aggresse 14 Dayst Fatnile": "Weighuct_nam
  {"prodpg?1165"},1500001/1.j/98/oductprll(white)/:fi0/filtersn/300x30-ie/fitsafmia.is/unug.ju//": "https:url"image_9,000", 4UGXice": "urrent_pr- 30ml","ce Serum n E Facidant Vitamie AntioxAnti-wrinklg agin3 Days Anti-o Love Joj Clover : "Angel_name"  {"product3026"},
.jpg?6/207399/1ct/8e)/produhitll(w:filtersn/300x300/fisafe/fit-ijumia.is/uns://ug.": "httpge_url99","ima39,9X : "UGprice"ent_rrcu.5 oz","ng Styling 8rizi Moistun, Hair Lotiorls - Oil GiORS, Olive"Ors ame": roduct_n},
  {"ppg?0433"1/1.j93011/8product/95hite)/lters:fill(w00/fiin/300x3afe/fit-is/unsumia.ps://ug.jttl": "hmage_ur,000","i: "UGX 135rent_price" 1Lr","cur Virginnut Oil 100%Coco Virgin  ExtraKentaste": "_name{"product"},
  pg?88631.j50959/product/91/2ite)/ers:fill(whx300/filtin/300t-fiunsafe/ug.jumia.is/https://: "mage_url"99","i69,9": "UGX rrent_price"cu25ml",de 1aste Uk Mathpooe T Fluoridted Charcoalvath Actiral Care witive OSmoker Acname": "ct_"produ
  {"},998152/1.jpg?51oduct/25/262(white)/prters:fill00x300/filafe/fit-in/3umia.is/unstps://ug.j "htimage_url":",",000": "UGX 145rrent_price50 Mg","cu12els - - 120 Soft Gsh Oil ga-3 Fime": "Omeduct_na,
  {"projpg?6553"}/1.8/5653652duct/6ite)/pro(whill/filters:f300-in/300xfit/unsafe/g.jumia.is//utps:_url": "ht","image00X 50,0: "UGt_price"","curren0g (Organic)owder Tea 20scus P "RENA Hibie":duct_namro},
  {"p4 out of 5"ngs": "363","ratijpg?06739/1.56t/19/e)/producrs:fill(whitilte300/ft-in/300xis/unsafe/fimia.s://ug.jul": "httpimage_ur0,000","": "UGX 4rent_price"curx",n A BoPieces I, - (72) iss Condomsoms K"Kiss Cond": amect_n"produ
  {of 5"},1 out s": "","rating59?791/1.jpg/887667roduct/05(white)/p:fillters00/fil/300x3-infe/fitmia.is/unsag.juhttps://u_url": ","imageUGX 75,000"rice": ""original_p000","UGX 50,rice": rent_pt","curitmenh Orowtir Gia Haech Allopard Growte BelinHairs aldnes"Minoxidil B": product_name
  {"093"},/1.jpg?558/9686152duct/prohite)/rs:fill(wx300/filteit-in/300is/unsafe/f://ug.jumia.ps: "htte_url"mag"i000","UGX 80,: ice""current_pr0 Mg",- 1250 Soft Gels Fish Oil - 6mega-3  "Oe":nam{"product_
  890"},6332/1.jpg?5t/49/736)/producs:fill(whiteter00x300/fil/fit-in/3s/unsafemia.i://ug.ju "httpsge_url":0","ima1,50 "UGX 7":iceginal_pr000","oriUGX 57,": "nt_price"currer 20g",Haitronger  Loss and Sr Hairolution foven Sam: A Pro Growth Crelopecia HairUTH MOON Aname": "SOct_ {"produ
 f 5"},ut o"5 oratings": pg?4866","2408011/1.jt/96/duc(white)/pros:fill0/filter/300x30it-ins/unsafe/f.jumia.i"https://uge_url": imag,"9,999"": "UGX 6t_pricecurren- Black","ght LED Liight Brdy, Super  BoAluminiumnge, g Beam RaLona  Extrlight,lashe Torch/Fechargeabl_name": "Rduct"pro"},
  { of 5"4.8 outings": rat","1.jpg?218827/306769/oduct/te)/pr:fill(whiilters300/f00xafe/fit-in/3mia.is/unsjus://ug.rl": "httpe_u,"imag 24,000": "UGXprice"rent_-02","curmeter Dt, thermos digitalienologl Tech Medica BPLalit": "Digt_name"produc {"},
 1 out of 5: "4.ratings","7788"02/1.jpg?794duct/16/14(white)/pros:fillilter0x300/fe/fit-in/30safa.is/un/ug.jumi: "https:/l"","image_urX 45,000rice": "UGoriginal_p","X 34,500 "UG":_price"current",l5 GeNZOX ide 5% BEPerox"Benzoyl ": oduct_name
  {"pr"},t of 5"5 ou": "ratings",25?9552/1.jpg7/21471roduct/0ite)/pll(whfilters:fin/300x300/fit-is/unsafe/a.i//ug.jumi": "https:"image_url00",GX 20,0"U": rice_penturr,"cml"ut Oil - 100e Cocon"Parachut_name": roduct"p"},
  { of 5 "2.3 out"ratings":2553",g?1.jp/89/0026442//productill(white):frs0x300/filtefit-in/30a.is/unsafe/jumi//ug.: "https:ge_url","ima30,000""UGX 2e": riginal_pric00","o"UGX 150,0rice": _p"currentz",Fl O Ml / 1.7 oration 50ts & Discolark Spo For Ded Serum"Fad": duct_name  {"pro54"},
g?04770442/1.jpoduct/86/4ite)/prs:fill(whilter00x300/ffit-in/3fe/ia.is/unsaps://ug.juml": "httge_ur,"ima"000 "UGX 80,_price":"currentex Gel",g SinLasteam ment CrEnlargPenis  "Men Big ame":product_n,
  {""}9/1.jpg?7892/02/91839oductll(white)/prfilters:fi0/00x30afe/fit-in/3mia.is/uns.juug//tps:": "htmage_url,"i5,000"e": "UGX 5rent_pric,"cur (500ml)"ditionerCon Vitamin E kali Wot Of Thee": "Fruiamoduct_n  {"pr},
2009"30769/1.jpg?roduct/70/3)/p:fill(whitefiltersin/300x300/it-/unsafe/fa.is//ug.jumis:rl": "httpmage_u"i",X 59,999": "UGurrent_priceam 60g","c3 In 1 Creunscreen en Fps 90+ Sqan Sunscre: "Dat_name"uc{"prodf 5"},
  out o: "4 atings"3","rjpg?188279398/1.product/45/ite)/rs:fill(wh00/filte00x3t-in/3safe/fiun.jumia.is/ugtps://"htage_url": 99","im 49,9": "UGXnt_pricel","curre30mil rowth Ord G Beatamin Ct True Viy Super Fas"Dr Dave": nameproduct_"},
  {"?628410001/1.jpgt/77/75oduc/pr:fill(white)filters0x300/-in/30fitsafe//un/ug.jumia.is:/l": "https"image_ur9","UGX 39,99": rent_priceg","curHealth 120ms Cleanser Systedy  Boulondo Rootsowder From Mo Pnking Mulondrial Dtman Re"Acname": t_ {"produc5"},
 g?600553499/1.jpt/45/te)/producs:fill(whifilterx300/t-in/300/unsafe/fiis//ug.jumia."https:rl": image_u00","55,0ce": "UGX _prient","curroungeroothing, Yg, Soisturizinm - M Creaarekin Ctamin E Sokali Viuit Of The W": "Frduct_name{"pro2024"},
  799/1.jpg?/866uct/51hite)/prodrs:fill(wlte/fi300300xit-in/unsafe/fg.jumia.is/s://uttp": "hmage_url","i 55,000: "UGXce"rit_p"currenl", 400mn Tonerh Skig SootdratinHy The Wokali "Fruit Ofame": t_n"producf 5"},
  {out o"1.5 ": s,"rating.jpg?9023"476119/13/)/product/4ill(whiteters:f00x300/file/fit-in/3s/unsafmia.iug.ju"https://age_url": ","im000X 59,UG_price": "nalorigi38,500",""UGX _price": ntml","curreost Hair. 20nd L Head Fiwth Baldair Grol Ginger Howerfu"Lanbena Pame": _n  {"product,
?8548"}1.jpg9//13186oduct/40)/prfill(white00/filters:300x3n/unsafe/fit-ia.is//ug.jumi"https:/ge_url": ma00,000","iUGX 1": "ricent_p,"curre0g" 5livery -ree Den F Meave For All HCream Mustanhood Size erbal Male Mn Original HClass Versio": "A ameroduct_n
  {"p"},44jpg?794193001/1.roduct/92/ill(white)/p:f0/filters30it-in/300x/fis/unsafea.g.jumi://u": "httpsurle_","imag0,000": "UGX 10rrent_pricemen","cu And Woes For Mening and Curvody Shaposs And Bght L Weil BodyAnd Generaing t BurnFor Tummy Faust Use ea You MHerbal Tg  Slimminmine Super: "Jasoduct_name"},
  {"pr.jpg?8049"9141942/1ct/58/te)/produl(whirs:fil300/filtefit-in/300xsafe/ia.is/un/ug.jumps:/rl": "htt"image_uGX 48,000",ce": "Urint_p"curre Wash",Repair Beardleansing eep Cts Beard Dutrienl NNaturaure re PBeard Caeauty Mens n Bhu": "Aicuct_name,
  {"produt of 5"}"3 os": ,"rating30".jpg?6842569/1roduct/21/6l(white)/ps:filter/fil-in/300x300/unsafe/fita.isumi://ug.j: "httpsurl"age_9,999","im: "UGX 6ice"rent_pr"curer)",men WatGood For Wo50g (Very ffee 2Seed Coa "RENA Okrct_name":   {"produ"},
/1.jpg?966856673988/uct/odhite)/prill(wilters:f0x300/ffit-in/30nsafe/ia.is/uumhttps://ug.jge_url": "ma9,999","iX 6: "UGce"rent_pri"curC06-Blue",ng Cushion-st Nursi Headreortic SuppFabrsh ft Plut Super Solighl Car Faped Trave": "U-Shproduct_name"},
  {"967pg?075019/1.jct/71/1/produll(white)ers:fi00/filtt-in/300x3/unsafe/fiumia.is://ug.j"httpsurl": ge_"ima9",X 59,99 "UG_price":entrrreen","cuor - Army Golatttle Perc Electric Ke Largel 2.0 Litrerigina"Ome": t_naoduc"pr33"},
  {69/1.jpg?6970/6425te)/product/whil(rs:fil/filtex300fit-in/300unsafe/is/umia.g.j://uhttps: "e_url"mag99","i99,9UGX e": "pricrrent_cu,"ce Serum"y EssenBod C VitaminExtract, t A, Frui"Karan AHuct_name": ,
  {"prod6"}227pg?80139/1.j/53/5/productfill(white)rs:te/300x300/filfit-infe//unsa.jumia.istps://ugl": "htmage_ur"i",99,9UGX 59": "ent_price"curr",00mly Scrub - 5od B GloweningightBr Skin reme  Papaya Ext: "aGLOWname" {"product_,
 09"}pg?8654869/1.jduct/75/7l(white)/pro/filters:fil00x300fit-in/3is/unsafe//ug.jumia.s:/: "httpge_url"99","ima59,9"UGX ": price"current_0g",d Coffee- 25vuma SeeNA Mpiri "REe":ct_namdu {"pro 5"},
 "5 out of ngs":"rati5063",jpg?1.727999/01/duct/e)/prol(whitils:filtern/300x300/fnsafe/fit-i.jumia.is/utps://ugrl": "ht,"image_u000""UGX 45,e": nt_price","curreBlul -  200 mconut Oilic Oil Coc TherapeutnirgaOil Pure Ohute "Parac": ameuct_n
  {"prod?0693"},1.jpg9/7142product/08/4(white)/ters:fill300x300/file/fit-in//unsafumia.is.jtps://ug": "ht"image_url0", 29,00"UGXe": pricent_W","curr 1L Newberry -StraShampoo Movit Hair ": "ect_nam
  {"produ},".jpg?5823/1ct/14/853179e)/produll(whitfilters:0/fi300x30in/nsafe/fit-g.jumia.is/u "https://ul":age_urim49,999","GX ": "Ual_price","originX 45,000UGrice": "rrent_p","cuili - 500G Mbir SimbadeCurry Powrganic ne Oginal Genuiious Orii Delicba Mbil: "Simoduct_name"},
  {"pr9"pg?226.j9/678039/1roduct/9white)/pl(/filters:filin/300x300unsafe/fit-umia.is/tps://ug.j"htl": "image_ur0",UGX 65,00price": ""current_e",- Whitantee arears Gu Yh Neon 12& Socket Wittch  Cooker Swincee Appliale Pol 45a Doubne 1 Gang & T Sliname": "G{"product_  477"},
g?93083441/1.jp5/oduct/8l(white)/pr:fil00/filterst-in/300x3unsafe/fimia.is/ttps://ug.jue_url": "hmag,"i"X 220,000UGrice": "ent_pt","curr120 Counules, ic Acid Capsuronn Plus Hyalrine Collageell Ma "Neocname":t_ {"produc of 5"},
  "5 out"ratings":68",pg?68.j2569/1t/04/54ite)/producl(whters:fil0x300/filt-in/30unsafe/fiug.jumia.is///: "https:e_url"0","imag00,00 1"UGXprice": rrent_"cu120ML",al Toner l Faciazech Htamin C Witol-Free ViAlcohAnskin Liru  "uct_name":prod"},
  {""4 out of 5gs": ,"ratin.jpg?5762"9/1/14/76207e)/product:fill(whitiltersin/300x300/f/unsafe/fit-a.is.jumiug//"https:url": 9","image_X 59,99 "UG":icecurrent_pr"," ‚Äì Whitec Hot Platengle Electrisy Touch Si": "Clasduct_name"pro"},
  {547869/1.jpg?854/7/85)/product(whites:fill300/filtern/300xafe/fit-i/unsjumia.isug."https://e_url": ag9","imUGX 59,99: "rice"nt_p,"curre70g"r 1semary PowdeENA Ro": "Rmet_na"produc {of 5"},
 "5 out s": "ratingjpg?2443",348399/1.ct/07/hite)/produers:fill(w00x300/filtt-in/3is/unsafe/fimia.ug.ju"https://_url": mage000","iUGX 45,rice": "ent_p5ml","currEssence 7e Skin Care air Face Repging Frecklnkle AWrinti nk Pores Ariing ShtenNight Whi Morning & e OilFace Essenc E taminnaier Vi"Dr mei": t_name"produc
  {"},950489/1.jpg?duct/69/7017(white)/profillers:300x300/filtt-in/fisafe/.is/unug.jumia"https://rl": ,"image_u45,000""UGX _price": ","current 20Mldition Hair ConYour Overallance ged Hair Enh Damas Liquid Forair LosStop Hnse Hair ng Raise Der Ginsetments Ginge Trea Scalpir Lossh Essence Harowt, Hair GE Andrea ESSENCGROWTHndrea HAIR "Aame": _nproduct},
  {"of 5""4 out ngs": ","rati1.jpg?6147t/70/746469/roducll(white)/pfilters:fi00x300//fit-in/3/unsafe/ug.jumia.isps:/ "httimage_url":","56,999 "UGX ice":t_prren"curc", - 1p0mlt Oil 50conuble Coure Edirganic And P100% OParachute ame": "_nuct"prod { of 5"},
 utngs": "2 oatig?6845","r678511/1.jpduct/18/7hite)/proill(wfilters:f300x300/n/safe/fit-imia.is/unps://ug.jul": "htte_ur,"imagGX 72,800"ce": "Uiginal_pri","or"UGX 43,900e": _pricntre","cur Oil 30ml GrowthC Bearditamin ast True VSuper Fnal rigiDavey O": "Dr duct_name
  {"prout of 5"}, "1 o":tings?5641","ra86011/1.jpgroduct/27/48hite)/p(wrs:fill0x300/filtet-in/30nsafe/fi/u.jumia.isps://ughtturl": "","image_GX 48,000ice": "U_prcurrent","ten,whigreeSwatter-r, Trap, t Killequito/insec MosrovedmpNew I"ame": {"product_n},
  5 out of 5"s": "tingra?1822","8/1.jpgt/55/27939e)/producfill(whit300/filters:/fit-in/300xsafemia.is/unjuttps://ug.url": "he_9","imagGX 19,99price": "U"current_p 100g",in Glow Soag Wrinkle Skl Anti-Aginaie": "Snroduct_nam"p9"},
  {g?350.jp2441432/10/t/0ucwhite)/prodrs:fill(lte0x300/fi30afe/fit-in/umia.is/uns.jttps://ugurl": "he_imag"X 50,000",: "UGnal_price"origi"," 45,000 "UGX":ent_priceKit","curr Self Test me HIV HoSimplet And uick Fas"Oraqme": "product_na,
  {of 5"}3 out ": ""ratingspg?7029",51/1.jct/73/32327/produ:fill(white)00/filtersn/300x3/fit-ifeunsais/jumia./ug.https:/url": ","image_43,000": "UGX rice"ginal_p"oriGX 41,500",: "Unt_price"rre","cu400mlay - iller Sprect K Bedbugs Inszzz Hit": "Hitmeroduct_na"},
  {"p out of 5: "4.7"ratings"jpg?9612",0878511/1.ct/79/du/proe)l(whitfilters:fil00/in/300x3t-e/fiunsafa.is/ug.jumi"https://e_url": 999","imag 35,": "UGXce_priurrent","cToole eedlo NMicrGrowth w Beard h Hair RegroGrowtnium Hair ta Roller Ti: "Dermaduct_name"
  {"prot of 5"},"4.1 ouratings": 323","?59512/1.jpg/05/555producthite)/rs:fill(wte/300x300/filfe/fit-in/unsa/ug.jumia.is "https:/":mage_url0","i00X 40,": "UGginal_price","ori0GX 28,50ce": "Unt_pri","curreers 100gnd Bed Woze Lengthn SiMeondo Powder Mul Drinking : "Active_name"roduct
  {"pducts = [onst allProSON data
crom the Jl products f

// Alerbose();').vre('sqlite3ui = req